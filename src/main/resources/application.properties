spring.config.import=optional:classpath:secret.properties

# Docker Compose
spring.docker.compose.enabled=false

# JPA/Hibernate
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.database-platform=org.hibernate.dialect.MariaDBDialect

# OpenAI API (secret.properties?? ??)
openai.api.key=${OPENAI_API_KEY:}
openai.api.url=https://api.openai.com/v1/chat/completions
openai.model=gpt-4o-mini
slack.webhook.url=${SLACK_WEBHOOK_URL:}

# Logging
logging.level.root=INFO
logging.level.com.soyunju.logcollector=DEBUG
logging.level.org.springframework.web=DEBUG
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE

# monitoring dashboard
management.endpoints.web.exposure.include=health,info,metrics,prometheus
management.endpoint.health.show-details=always
management.metrics.tags.application=logcollector
management.metrics.distribution.percentiles-histogram.http.server.requests=true


# draft policy
draft.policy.host-spread-threshold=3
draft.policy.high-recur-threshold=10

# Redis Queue/Consumer policy
logcollector.redis.queue-key=error-log-queue
logcollector.redis.dlq-key=error-log-queue:dlq
logcollector.redis.batch-size=20
logcollector.redis.pop-timeout-seconds=2
logcollector.redis.queue-ttl-minutes=30
logcollector.redis.dlq-ttl-days=1
logcollector.redis.consumer-fixed-delay-ms=500


